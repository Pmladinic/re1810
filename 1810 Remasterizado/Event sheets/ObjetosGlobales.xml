<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>ObjetosGlobales</name>
    <events>
        <event-group description="" sid="950615219503939" title="Plataformas">
            <sub-events>
                <event-group description="" sid="174582666841499" title="Palancas Verticales">
                    <sub-events>
                        <event-block sid="525666038935702">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="438418549360768" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="297482312532710">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="703252352024358" type="plataformaVertical">
                                            <param id="0" name="Instance variable">activa</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="773839506597490">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="436668947970229" type="plataformaVertical">
                                                    <param id="0" name="Instance variable">arriba</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-2" name="Set Y" sid="848994833686024" type="plataformaVertical">
                                                    <param id="0" name="Y">plataformaVertical.Y-1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="361522172289460">
                                            <conditions>
                                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="577466068477241" type="plataformaVertical">
                                                    <param id="0" name="Instance variable">arriba</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-2" name="Set Y" sid="760554970559260" type="plataformaVertical">
                                                    <param id="0" name="Y">plataformaVertical.Y+1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="909885876171844">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="121290501671425" type="plataformaVertical">
                                    <param id="0" name="Object">limiteSuperior</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="278512750734786" type="plataformaVertical">
                                    <param id="0" name="Instance variable">arriba</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="113167884641655">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="326928051856418" type="plataformaVertical">
                                    <param id="0" name="Object">limiteInferior</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="909304887419109" type="plataformaVertical">
                                    <param id="0" name="Instance variable">arriba</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="287576866519001" title="Palancas Horizontales">
                    <sub-events>
                        <event-block sid="650491261727251">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="296669491777670" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="678878164581352">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="224712984485565" type="plataformaHorizontal">
                                            <param id="0" name="Instance variable">activa</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="898614203256241">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="320543273071523" type="plataformaHorizontal">
                                                    <param id="0" name="Instance variable">derecha</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="663591754277026" type="plataformaHorizontal">
                                                    <param id="0" name="X">plataformaHorizontal.X+1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="587160843242303">
                                            <conditions>
                                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="730706294668178" type="plataformaHorizontal">
                                                    <param id="0" name="Instance variable">derecha</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-1" name="Set X" sid="690698256754874" type="plataformaHorizontal">
                                                    <param id="0" name="X">plataformaHorizontal.X-1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="950098337447672">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="450852110632567" type="plataformaHorizontal">
                                    <param id="0" name="Object">limiteDerecho</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="492566232848774" type="plataformaHorizontal">
                                    <param id="0" name="Instance variable">derecha</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="883019104824066">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="616655714563099" type="plataformaHorizontal">
                                    <param id="0" name="Object">limiteIzquierdo</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="882611321729954" type="plataformaHorizontal">
                                    <param id="0" name="Instance variable">derecha</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="829195628583687" title="Escaleras">
            <sub-events>
                <event-block sid="470329629570595">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="627824263668814" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="2" name="Set ignoring input" sid="752375008186059" type="player">
                            <param id="0" name="Input">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="359853182946754" title="Verificar si está sobre escalera">
                    <sub-events>
                        <comment>Verificar si el jugador está sobre una escalera</comment>
                        <event-block sid="136815900200088">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="139644448688771" type="player">
                                    <param id="0" name="Instance variable">puedeSubirEscalera</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="103663258412489" type="player">
                                    <param id="0" name="Object">Escalera</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="670767561362092">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="330679384286060" type="Keyboard">
                                            <param id="0" name="Key">38 (Up arrow)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="777997596610087" type="player">
                                            <param id="0" name="Instance variable">sobreEscalera</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="701035764496180">
                                    <conditions>
                                        <condition id="2" name="Key is down" sid="197814462867932" type="Keyboard">
                                            <param id="0" name="Key">40 (Down arrow)</param>
                                        </condition>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="211019325766386" type="player">
                                            <param id="0" name="Instance variable">estaEnSuelo</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-13" name="Set boolean" sid="848317520921023" type="player">
                                            <param id="0" name="Instance variable">sobreEscalera</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Salir de la escalera si está por sobre ésta presionando la tecla &quot;Abajo&quot;</comment>
                        <event-block sid="536510869371029">
                            <conditions>
                                <condition id="-22" name="Else" sid="319348819939629" type="System" />
                                <condition id="-8" name="Is boolean instance variable set" sid="547911060570257" type="player">
                                    <param id="0" name="Instance variable">puedeSubirEscalera</param>
                                </condition>
                                <condition id="9" name="Is overlapping at offset" sid="511928886911623" type="player">
                                    <param id="0" name="Object">Escalera</param>
                                    <param id="1" name="Offset X">0</param>
                                    <param id="2" name="Offset Y">32</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="513617019856341" type="player">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Y co-ordinate">Escalera.Y+16</param>
                                </condition>
                                <condition id="2" name="Key is down" sid="885842789165502" type="Keyboard">
                                    <param id="0" name="Key">40 (Down arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="964879093023328" type="player">
                                    <param id="0" name="Instance variable">sobreEscalera</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-2" name="Set Y" sid="696619455986731" type="player">
                                    <param id="0" name="Y">player.Y+2</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="533992463079157" type="player">
                                    <param id="0" name="Instance variable">estaEnSuelo</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Salir cuando no esté sobre una escalera</comment>
                        <event-block sid="287845778881046">
                            <conditions>
                                <condition id="-22" name="Else" sid="788209110886672" type="System" />
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="436953719678264" type="player">
                                    <param id="0" name="Object">Escalera</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="424841763684304" type="player">
                                    <param id="0" name="Instance variable">sobreEscalera</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Salir de la escalera si toca el suelo inferior</comment>
                        <event-block sid="952605462319470">
                            <conditions>
                                <condition id="-22" name="Else" sid="670465599735766" type="System" />
                                <condition id="9" name="Is overlapping at offset" sid="998735182148698" type="player">
                                    <param id="0" name="Object">Escalera</param>
                                    <param id="1" name="Offset X">0</param>
                                    <param id="2" name="Offset Y">32</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="294624626580808" type="player">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Y co-ordinate">Escalera.Y+16</param>
                                </condition>
                                <condition id="2" name="Key is down" sid="754098023411315" type="Keyboard">
                                    <param id="0" name="Key">40 (Down arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="138946632226089" type="player">
                                    <param id="0" name="Instance variable">sobreEscalera</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Salir de la escalera cuando &quot;salte&quot;</comment>
                        <event-block sid="658965073899749">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="675381927427964" type="Keyboard">
                                    <param id="0" name="Key">32 (Barra Espaciadora)</param>
                                </condition>
                                <condition id="-8" name="Is boolean instance variable set" sid="683405060409152" type="player">
                                    <param id="0" name="Instance variable">sobreEscalera</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="681156861937197" type="player">
                                    <param id="0" name="Instance variable">sobreEscalera</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment>Implementación de la escalera</comment>
                <event-group description="" sid="771514961301052" title="Implementación escaleras">
                    <sub-events>
                        <event-block sid="485376021105420">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="865381112481921" type="player">
                                    <param id="0" name="Instance variable">sobreEscalera</param>
                                </condition>
                                <condition id="1" name="Is overlapping another object" sid="516967197092255" type="player">
                                    <param id="0" name="Object">Escalera</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="11" name="Set enabled" sid="715174644545552" type="player">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action behavior="8Direction" id="2" name="Set ignoring input" sid="730191290963140" type="player">
                                    <param id="0" name="Input">0</param>
                                </action>
                                <action id="-1" name="Set X" sid="148961537808772" type="player">
                                    <param id="0" name="X">Escalera.X+16</param>
                                </action>
                                <action behavior="Platform" id="8" name="Set vector X" sid="550246727785703" type="player">
                                    <param id="0" name="Vector X">0</param>
                                </action>
                                <action behavior="Platform" id="9" name="Set vector Y" sid="285822868872644" type="player">
                                    <param id="0" name="Vector Y">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="955355776827740">
                            <conditions>
                                <condition id="-22" name="Else" sid="986692922676823" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="11" name="Set enabled" sid="338943459789623" type="player">
                                    <param id="0" name="State">1</param>
                                </action>
                                <action behavior="8Direction" id="2" name="Set ignoring input" sid="707119565562391" type="player">
                                    <param id="0" name="Input">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="694564882257544">
                                    <conditions>
                                        <condition id="1" name="Is overlapping another object" sid="650309348527242" type="player">
                                            <param id="0" name="Object">colSolidos</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Solid" id="0" name="Set enabled" sid="157313908762983" type="colSolidos">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
